<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Tiny what now?"><meta name="keywords" content="rust, rustlang, rust-lang, tiny_dynamo"><title>tiny_dynamo - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script id="default-settings"></script><script src="../storage.js"></script><script src="../crates.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../favicon.svg">
<link rel="alternate icon" type="image/png" href="../favicon-16x16.png">
<link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../tiny_dynamo/index.html'><div class='logo-container rust-logo'><img src='../rust-logo.png' alt='logo'></div></a><h2 class="location">Crate tiny_dynamo</h2><div class="block version"><p>Version 0.1.0</p></div><div class="sidebar-elems"><a id="all-types" href="all.html"><p>See all tiny_dynamo's items</p></a><div class="block items"><ul><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#types">Type Definitions</a></li></ul></div><div id="sidebar-vars" data-name="tiny_dynamo" data-ty="mod" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img src="../brush.svg" width="18" height="18" alt="Pick another theme!"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‚ÄòS‚Äô to search, ‚Äò?‚Äô for more options‚Ä¶" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img src="../wheel.svg" width="18" height="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">tiny_dynamo</a><button id="copy-path" onclick="copy_path(this)" title="copy path"><img src="../clipboard.svg" width="19" height="18" alt="Copy item import" title="Copy item import to clipboard"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/tiny_dynamo/lib.rs.html#1-485" title="goto source code">[src]</a></span></h1><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><div align="center">
  üì¶ ü§è
</div>
<h1 align="center">
  tiny dynamo
</h1>
<p align="center">
   A tinier, simpler, key-value focused interface for AWS DynamoDB
</p>
<div align="center">
  <a href="https://github.com/softprops/tiny-dynamo/actions">
		<img src="https://github.com/softprops/tiny-dynamo/workflows/Main/badge.svg"/>
	</a>
</div>
<h3 id="tiny-what-now" class="section-header"><a href="#tiny-what-now">Tiny what now?</a></h3>
<blockquote>
<p>Amazon DynamoDB is a key-value and document database that delivers single-digit millisecond performance at any scale.</p>
</blockquote>
<p>This quote comes directly from the <a href="https://aws.amazon.com/dynamodb/">Amazon DynamoDB docs</a>. This has some implications that are less than ideal for very simple key-value applications. It can be overly complicated and sometimes daunting for the uninitiated to say the least.</p>
<p>Tiny Dynamo aims to leverge the useful parts by exposing a much simpler get/set API you might expect from a key-value interface.</p>
<h3 id="usage" class="section-header"><a href="#usage">Usage</a></h3>
<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">std</span>::{<span class="ident">env</span>, <span class="ident">error::Error</span>};
<span class="kw">use</span> <span class="ident">tiny_dynamo</span>::{<span class="ident">reqwest_requests::Reqwest</span>, <span class="ident">Credentials</span>, <span class="ident">TableInfo</span>, <span class="ident">DB</span>};

<span class="kw">fn</span> <span class="ident">main</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="prelude-ty">Result</span><span class="op">&lt;</span>(), <span class="ident">Box</span><span class="op">&lt;</span><span class="kw">dyn</span> <span class="ident">Error</span><span class="op">&gt;</span><span class="op">&gt;</span> {
    <span class="kw">let</span> <span class="ident">db</span> <span class="op">=</span> <span class="ident">DB::new</span>(
        <span class="ident">Credentials::new</span>(
            <span class="ident">env::var</span>(<span class="string">&quot;AWS_ACCESS_KEY_ID&quot;</span>)<span class="question-mark">?</span>,
            <span class="ident">env::var</span>(<span class="string">&quot;AWS_SECRET_ACCESS_KEY&quot;</span>)<span class="question-mark">?</span>,
        ),
        <span class="ident">TableInfo::new</span>(
            <span class="string">&quot;key-attr-name&quot;</span>,
            <span class="string">&quot;value-attr-name&quot;</span>,
            <span class="string">&quot;table-name&quot;</span>,
            <span class="string">&quot;us-east-1&quot;</span>.<span class="ident">parse</span>()<span class="question-mark">?</span>,
            <span class="prelude-val">None</span>
        ),
        <span class="ident">Reqwest::new</span>(),
    );

    <span class="macro">println!</span>(<span class="string">&quot;{:#?}&quot;</span>, <span class="ident">db</span>.<span class="ident">set</span>(<span class="string">&quot;foo&quot;</span>, <span class="string">&quot;bar&quot;</span>)<span class="question-mark">?</span>);
    <span class="macro">println!</span>(<span class="string">&quot;{:#?}&quot;</span>, <span class="ident">db</span>.<span class="ident">get</span>(<span class="string">&quot;foo&quot;</span>)<span class="question-mark">?</span>);

    <span class="prelude-val">Ok</span>(())
}</pre></div>
<p>A few notable differences when comparing to traditional DynamoDB clients is that this client assumes a single table, a very common case, so you configure your client with that table name so you don‚Äôt need to redundantly provided it with each request.</p>
<p>You will also find the interface is reduced to <code>get(key)</code> <code>set(key,value)</code>. This is intentional as this client is primarily focused on being a better fit for simple key-value applications.</p>
<h2 id="features" class="section-header"><a href="#features">Features</a></h2><h3 id="tiny" class="section-header"><a href="#tiny">Tiny</a></h3>
<p>Tiny Dynamo avoids packing carry-on luggage for anything you don‚Äôt explicitly need for a simple key-value application. This includes an entire sdk and transient line of dependencies. This allows it to fit more easily into smaller spaces and to deliver on Rust‚Äôs zero cost promise of not paying for what you don‚Äôt use.</p>
<h3 id="simpler-data-modeling" class="section-header"><a href="#simpler-data-modeling">Simpler Data Modeling</a></h3>
<p>A common laborious activity with DynamoDB applications figuring our your application‚Äôs data model first and then translating that to a DynamoDB‚Äôs key space design and catalog of item attribute types. This is fine and expected for applications that require more advanced access patterns. For simple key-value applications, this is just tax. Tiny DynamoDB assumes a key-value data model. How you serilize your value is up to you.</p>
<h3 id="just-the-data-plane" class="section-header"><a href="#just-the-data-plane">Just the data plane</a></h3>
<p>You can think of the DynamoDB API in terms of two planes: The data plane, where you typically spend all your time in 99% of application cases, and the control plane, an API for provisioning the resources that will store your data. Combining these makes its surface area arbitrarily larger that it needs to be. Tiny Dynamo focuses on exposing just the data plane to retain a smaller surface area to learn.</p>
<h3 id="sans-io" class="section-header"><a href="#sans-io">Sans I/O</a></h3>
<p>Tiny Dynamo takes a <a href="https://sans-io.readthedocs.io/">sans I/O</a> library approach. By default it defines a <code>Requests</code> trait which allows for any I/O library to implement how requests are transfered over the wire by provides none without an implicit feature toggled on</p>
<h4 id="reqwest" class="section-header"><a href="#reqwest">Reqwest</a></h4>
<p>the <code>reqwest</code> feature provides a <code>reqwest_requests::Reqwest</code> backend for sending requests, currently using a blocking client. An async feature is planned for the future</p>
<pre><code class="language-toml">[dependencies]
tiny_dynamo = { version = &quot;0.1&quot;, features = [&quot;reqwest&quot;]}
</code></pre>
<h4 id="fastly" class="section-header"><a href="#fastly">Fastly</a></h4>
<p>The <code>fastly</code> feature provides a <code>fastly_requests::Fastly</code> backend for sending requests suitable for Fastlys Compute@Edge platform</p>
<pre><code class="language-toml">[dependencies]
tiny_dynamo = { version = &quot;0.1&quot;, features = [&quot;fastly&quot;]}
</code></pre>
<h3 id="byoio" class="section-header"><a href="#byoio">BYOIO</a></h3>
<p>If you would like to bring your own IO implementation you can define an implementation for a custom type</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">tiny_dynamo</span>::{<span class="ident">Request</span>, <span class="ident">Requests</span>};
<span class="kw">use</span> <span class="ident">std::error::Error</span>;

<span class="kw">struct</span> <span class="ident">CustomIO</span>;

<span class="kw">impl</span> <span class="ident">Requests</span> <span class="kw">for</span> <span class="ident">CustomIO</span> {
  <span class="kw">fn</span> <span class="ident">send</span>(<span class="kw-2">&amp;</span><span class="self">self</span>, <span class="ident">signed</span>: <span class="ident">Request</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="prelude-ty">Result</span><span class="op">&lt;</span>(<span class="ident">u16</span>, <span class="ident">String</span>), <span class="ident">Box</span><span class="op">&lt;</span><span class="kw">dyn</span> <span class="ident">Error</span><span class="op">&gt;</span><span class="op">&gt;</span> {
    <span class="prelude-val">Ok</span>(
      (<span class="number">200</span>,<span class="string">&quot;...&quot;</span>.<span class="ident">into</span>())
    )
  }
}</pre></div>
<p>Doug Tangren (softprops) 2021</p>
</div></details><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<table><tr class="module-item"><td><a class="struct" href="struct.Const.html" title="tiny_dynamo::Const struct">Const</a></td><td class="docblock-short"><p>Provides a <code>Requests</code> implementation for a constantized response.</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.Credentials.html" title="tiny_dynamo::Credentials struct">Credentials</a></td><td class="docblock-short"><p>A set of AWS credentials to authenticate requests with</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.DB.html" title="tiny_dynamo::DB struct">DB</a></td><td class="docblock-short"><p>The central client interface applications will work with</p>
</td></tr><tr class="module-item"><td><a class="struct" href="struct.TableInfo.html" title="tiny_dynamo::TableInfo struct">TableInfo</a></td><td class="docblock-short"><p>Information about your target AWS DynamoDB table</p>
</td></tr></table><h2 id="enums" class="section-header"><a href="#enums">Enums</a></h2>
<table><tr class="module-item"><td><a class="enum" href="enum.Region.html" title="tiny_dynamo::Region enum">Region</a></td><td class="docblock-short"><p>A list of AWS Regions supported by DynamoDB</p>
</td></tr></table><h2 id="traits" class="section-header"><a href="#traits">Traits</a></h2>
<table><tr class="module-item"><td><a class="trait" href="trait.Requests.html" title="tiny_dynamo::Requests trait">Requests</a></td><td class="docblock-short"><p>A trait to implement the behavior for sending requests, often your ‚ÄúIO‚Äù layer</p>
</td></tr></table><h2 id="types" class="section-header"><a href="#types">Type Definitions</a></h2>
<table><tr class="module-item"><td><a class="type" href="type.Request.html" title="tiny_dynamo::Request type">Request</a></td><td class="docblock-short"><p>A type alias for <code>http::RequestVec&lt;u8&gt;</code></p>
</td></tr></table></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../" data-current-crate="tiny_dynamo" data-search-index-js="../search-index.js" data-search-js="../search.js"></div><script src="../main.js"></script></body></html>